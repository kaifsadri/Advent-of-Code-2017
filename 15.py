"""
Generator A starts with 289
Generator B starts with 629
"""
A = 289
B = 629
G = 0
for i in range(40_000_000):
    A = (16807 * A) % 2147483647
    B = (48271 * B) % 2147483647
    if A & 0b1111111111111111 == B & 0b1111111111111111:
        G += 1
print(f"Part 1: {G}")

A = 289
B = 629
i = 0
G = 0
while i < 5_000_000:
    A = (16807 * A) % 2147483647
    while A & 0b11 != 0:
        A = (16807 * A) % 2147483647
    B = (48271 * B) % 2147483647
    while B & 0b111 != 0:
        B = (48271 * B) % 2147483647
    i += 1
    if A & 0b1111111111111111 == B & 0b1111111111111111:
        G += 1
print(f"Part 2: {G}")